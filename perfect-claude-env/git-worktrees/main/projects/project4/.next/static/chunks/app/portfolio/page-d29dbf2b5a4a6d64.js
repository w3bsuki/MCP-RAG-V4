(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{8791:(e,t,r)=>{Promise.resolve().then(r.bind(r,228)),Promise.resolve().then(r.bind(r,1733)),Promise.resolve().then(r.bind(r,1911))},228:(e,t,r)=>{"use strict";r.d(t,{AddCryptoForm:()=>d});var n=r(5155),s=r(2115),a=r(3312),l=r(9749),i=r(1567);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...a}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-9 w-full bg-terminal-white border-2 border-inset border-terminal-gray px-2 py-1 text-sm text-terminal-black font-mono file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-terminal-darkgray focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-terminal-darkgray disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});o.displayName="Input";var c=r(5229);function d(){let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(""),u=(0,c.H)(e=>e.addItem),j=(e,r)=>{t(e),i(r)};return(0,n.jsxs)(l.Zp,{children:[(0,n.jsx)(l.aR,{children:(0,n.jsx)(l.ZB,{children:"ADD CRYPTO TO PORTFOLIO"})}),(0,n.jsx)(l.Wu,{children:(0,n.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!e||!r||!d||!x){alert("ERROR: ALL FIELDS REQUIRED");return}let s=parseFloat(d),a=parseFloat(x);if(isNaN(s)||s<=0){alert("ERROR: INVALID AMOUNT");return}if(isNaN(a)||a<=0){alert("ERROR: INVALID PRICE");return}u(e,r,s,a),t(""),i(""),m(""),h("")},className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-terminal-darkgray mb-1",children:"SYMBOL"}),(0,n.jsx)(o,{type:"text",placeholder:"BTC",value:e,onChange:e=>t(e.target.value.toUpperCase()),className:"font-mono"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-terminal-darkgray mb-1",children:"NAME"}),(0,n.jsx)(o,{type:"text",placeholder:"BITCOIN",value:r,onChange:e=>i(e.target.value.toUpperCase()),className:"font-mono"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-terminal-darkgray mb-1",children:"AMOUNT"}),(0,n.jsx)(o,{type:"number",step:"any",placeholder:"0.001",value:d,onChange:e=>m(e.target.value),className:"font-mono"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-terminal-darkgray mb-1",children:"BUY PRICE ($)"}),(0,n.jsx)(o,{type:"number",step:"any",placeholder:"50000.00",value:x,onChange:e=>h(e.target.value),className:"font-mono"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,n.jsx)(a.$,{type:"submit",className:"w-full",children:"ADD TO PORTFOLIO"}),(0,n.jsxs)("div",{className:"border-t-2 border-terminal-darkgray pt-2",children:[(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray mb-2",children:"QUICK ADD:"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)(a.$,{type:"button",variant:"outline",size:"sm",onClick:()=>j("BTC","BITCOIN"),children:"BTC"}),(0,n.jsx)(a.$,{type:"button",variant:"outline",size:"sm",onClick:()=>j("ETH","ETHEREUM"),children:"ETH"}),(0,n.jsx)(a.$,{type:"button",variant:"outline",size:"sm",onClick:()=>j("ADA","CARDANO"),children:"ADA"}),(0,n.jsx)(a.$,{type:"button",variant:"outline",size:"sm",onClick:()=>j("SOL","SOLANA"),children:"SOL"})]})]})]})]})})]})}},1911:(e,t,r)=>{"use strict";r.d(t,{PortfolioTable:()=>m});var n=r(5155),s=r(2115),a=r(9556),l=r(3312),i=r(9749),o=r(2508),c=r(5229),d=r(5686);function m(){let{items:e,removeItem:t,updateCurrentPrices:r,getStats:m,clearPortfolio:x}=(0,c.H)(),{data:h}=(0,a.I)({queryKey:["top-cryptos"],queryFn:async()=>{let e=await fetch("/api/cryptos");if(!e.ok)throw Error("Failed to fetch crypto data");return e.json()},refetchInterval:3e4,enabled:e.length>0});(0,s.useEffect)(()=>{if(h&&e.length>0){let e={};h.forEach(t=>{e[t.symbol]=t.current_price}),r(e)}},[h,e.length,r]);let u=m(),j=e=>"$".concat(e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),f=e=>{let t=e>=0?"+":"";return"".concat(t).concat(e.toFixed(2),"%")};return 0===e.length?(0,n.jsxs)(i.Zp,{children:[(0,n.jsx)(i.aR,{children:(0,n.jsx)(i.ZB,{children:"MY PORTFOLIO"})}),(0,n.jsx)(i.Wu,{children:(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-terminal-darkgray font-mono mb-4",children:"NO PORTFOLIO ITEMS FOUND"}),(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray font-mono",children:"ADD CRYPTOCURRENCIES TO START TRACKING"})]})})]}):(0,n.jsxs)(i.Zp,{children:[(0,n.jsx)(i.aR,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(i.ZB,{children:"MY PORTFOLIO"}),(0,n.jsx)(l.$,{variant:"destructive",size:"sm",onClick:x,children:"CLEAR ALL"})]})}),(0,n.jsxs)(i.Wu,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6 p-4 border-2 border-terminal-darkgray bg-terminal-white",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"TOTAL VALUE"}),(0,n.jsx)("div",{className:"font-bold text-terminal-black font-mono",children:j(u.totalValue)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"TOTAL INVESTED"}),(0,n.jsx)("div",{className:"font-bold text-terminal-black font-mono",children:j(u.totalInvested)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"TOTAL P&L"}),(0,n.jsx)("div",{className:"font-bold font-mono ".concat(u.totalProfit>=0?"text-terminal-green":"text-terminal-red"),children:j(u.totalProfit)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"TOTAL %"}),(0,n.jsx)("div",{className:"font-bold font-mono ".concat(u.totalProfitPercent>=0?"text-terminal-green":"text-terminal-red"),children:f(u.totalProfitPercent)})]})]}),(0,n.jsxs)(o.XI,{children:[(0,n.jsx)(o.A0,{children:(0,n.jsxs)(o.Hj,{children:[(0,n.jsx)(o.nd,{children:"SYMBOL"}),(0,n.jsx)(o.nd,{children:"AMOUNT"}),(0,n.jsx)(o.nd,{children:"BUY PRICE"}),(0,n.jsx)(o.nd,{children:"CURRENT PRICE"}),(0,n.jsx)(o.nd,{children:"VALUE"}),(0,n.jsx)(o.nd,{children:"P&L"}),(0,n.jsx)(o.nd,{children:"%"}),(0,n.jsx)(o.nd,{})]})}),(0,n.jsx)(o.BF,{children:e.map(e=>(0,n.jsxs)(o.Hj,{children:[(0,n.jsxs)(o.nA,{className:"font-bold",children:[(0,n.jsx)("div",{children:e.symbol}),(0,n.jsx)("div",{className:"text-xs text-terminal-darkgray",children:e.name})]}),(0,n.jsx)(o.nA,{className:"font-mono",children:e.amount}),(0,n.jsx)(o.nA,{className:"font-mono",children:j(e.buyPrice)}),(0,n.jsx)(o.nA,{className:"font-mono",children:j(e.currentPrice)}),(0,n.jsx)(o.nA,{className:"font-mono font-bold",children:j(e.value)}),(0,n.jsx)(o.nA,{className:"font-mono font-bold ".concat(e.profit>=0?"text-terminal-green":"text-terminal-red"),children:j(e.profit)}),(0,n.jsx)(o.nA,{className:"font-mono font-bold ".concat(e.profitPercent>=0?"text-terminal-green":"text-terminal-red"),children:f(e.profitPercent)}),(0,n.jsx)(o.nA,{children:(0,n.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>t(e.id),children:(0,n.jsx)(d.A,{className:"h-3 w-3"})})})]},e.id))})]}),(0,n.jsxs)("div",{className:"mt-4 text-xs text-terminal-darkgray font-mono",children:["PORTFOLIO UPDATES: REAL-TIME â€¢ LAST SYNC: ",new Date().toLocaleTimeString("en-US",{hour12:!1})]})]})]})}},5229:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=r(6130),s=r(709);let a=(0,n.vt)()((0,s.Zr)((e,t)=>({items:[],addItem:(t,r,n,s)=>{let a={id:crypto.randomUUID(),symbol:t.toUpperCase(),name:r,amount:n,buyPrice:s,currentPrice:s,value:n*s,profit:0,profitPercent:0,addedAt:new Date};e(e=>({items:[...e.items,a]}))},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},updateCurrentPrices:t=>{e(e=>({items:e.items.map(e=>{let r=t[e.symbol.toLowerCase()]||e.currentPrice,n=e.amount*r,s=n-e.amount*e.buyPrice,a=(r-e.buyPrice)/e.buyPrice*100;return{...e,currentPrice:r,value:n,profit:s,profitPercent:a}})}))},getStats:()=>{let e=t().items,r=e.reduce((e,t)=>e+t.value,0),n=e.reduce((e,t)=>e+t.amount*t.buyPrice,0),s=r-n;return{totalValue:r,totalProfit:s,totalProfitPercent:n>0?s/n*100:0,totalInvested:n}},clearPortfolio:()=>{e({items:[]})}}),{name:"crypto-portfolio"}))}},e=>{var t=t=>e(e.s=t);e.O(0,[40,28,527,556,2,776,441,517,358],()=>t(8791)),_N_E=e.O()}]);