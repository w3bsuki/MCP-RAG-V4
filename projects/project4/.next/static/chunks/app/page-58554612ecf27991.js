(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8639:(e,t,a)=>{Promise.resolve().then(a.bind(a,2556)),Promise.resolve().then(a.bind(a,8570)),Promise.resolve().then(a.bind(a,1733)),Promise.resolve().then(a.bind(a,6543))},2556:(e,t,a)=>{"use strict";a.d(t,{CryptoTable:()=>o});var s=a(5155),r=a(9556),i=a(9749),n=a(2508),l=a(7435),c=a(3312),d=a(3528);function o(){let{showToast:e}=(0,d.d)(),{data:t,isLoading:a,error:o,refetch:m}=(0,r.I)({queryKey:["top-cryptos"],queryFn:async()=>{let t=await fetch("/api/cryptos");if(!t.ok){let a=429===t.status?"API rate limited - using cached data":"Failed to fetch crypto data";throw e(a,"warning"),Error(a)}return t.json()},refetchInterval:3e4,retry:2,retryDelay:3e3}),x=e=>e>=1?"$".concat(e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})):"$".concat(e.toFixed(6)),h=e=>e>=1e12?"$".concat((e/1e12).toFixed(2),"T"):e>=1e9?"$".concat((e/1e9).toFixed(2),"B"):e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):"$".concat(e.toLocaleString()),g=e=>e>=1e9?"$".concat((e/1e9).toFixed(2),"B"):e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):"$".concat(e.toLocaleString());return a?(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"TOP CRYPTOCURRENCIES"})}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)(l.P0,{})})]}):o?(0,s.jsxs)(i.Zp,{className:"bg-terminal-black border-terminal-red text-terminal-white",children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{className:"text-terminal-red",children:"⚠ CRYPTO DATA - ERROR"})}),(0,s.jsxs)(i.Wu,{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-terminal-red font-mono text-sm",children:"► API ERROR: Using fallback data"}),(0,s.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"CoinGecko API rate limited. Mock data displayed."}),(0,s.jsx)(c.$,{onClick:()=>m(),variant:"outline",size:"sm",className:"font-mono",children:"RETRY"})]})]}):(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"TOP CRYPTOCURRENCIES"})}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsxs)(n.XI,{children:[(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{children:"#"}),(0,s.jsx)(n.nd,{children:"NAME"}),(0,s.jsx)(n.nd,{children:"SYMBOL"}),(0,s.jsx)(n.nd,{children:"PRICE"}),(0,s.jsx)(n.nd,{children:"24H %"}),(0,s.jsx)(n.nd,{children:"MARKET CAP"}),(0,s.jsx)(n.nd,{children:"VOLUME"})]})}),(0,s.jsx)(n.BF,{children:null==t?void 0:t.map((e,t)=>{let a=e.price_change_percentage_24h>0;return(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nA,{className:"font-bold",children:t+1}),(0,s.jsx)(n.nA,{className:"font-bold",children:e.name}),(0,s.jsx)(n.nA,{className:"font-bold",children:e.symbol.toUpperCase()}),(0,s.jsx)(n.nA,{className:"font-bold",children:x(e.current_price)}),(0,s.jsxs)(n.nA,{className:"font-bold ".concat(a?"text-terminal-green":"text-terminal-red"),children:[a?"+":"",e.price_change_percentage_24h.toFixed(2),"%"]}),(0,s.jsx)(n.nA,{children:h(e.market_cap)}),(0,s.jsx)(n.nA,{children:g(e.total_volume)})]},e.id)})})]}),(0,s.jsxs)("div",{className:"mt-4 text-xs text-terminal-darkgray font-mono",children:["DATA PROVIDED BY COINGECKO API • UPDATED: ",new Date().toLocaleTimeString("en-US",{hour12:!1})]})]})]})}},8570:(e,t,a)=>{"use strict";a.d(t,{MarketOverview:()=>d});var s=a(5155),r=a(9556),i=a(9749),n=a(7435),l=a(3312),c=a(3528);function d(){var e;let{showToast:t}=(0,c.d)(),{data:a,isLoading:d,error:o,refetch:m}=(0,r.I)({queryKey:["market-overview"],queryFn:async()=>{let e=await fetch("/api/market");if(!e.ok){let a=429===e.status?"API rate limited - using cached data":"Failed to fetch market data";throw t(a,"warning"),Error(a)}return e.json()},refetchInterval:6e4,retry:2,retryDelay:3e3}),x=e=>e>=1e12?"$".concat((e/1e12).toFixed(2),"T"):e>=1e9?"$".concat((e/1e9).toFixed(2),"B"):e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):"$".concat(e.toLocaleString());if(d)return(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"MARKET OVERVIEW"})}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)(n.$F,{})})]});if(o)return(0,s.jsxs)(i.Zp,{className:"bg-terminal-black border-terminal-red text-terminal-white",children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{className:"text-terminal-red",children:"⚠ MARKET OVERVIEW - ERROR"})}),(0,s.jsxs)(i.Wu,{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-terminal-red font-mono text-sm",children:"► API ERROR: Using fallback data"}),(0,s.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"CoinGecko API rate limited. Mock data displayed."}),(0,s.jsx)(l.$,{onClick:()=>m(),variant:"outline",size:"sm",className:"font-mono",children:"RETRY"})]})]});let h=(null==a?void 0:a.market_cap_change_percentage_24h)&&a.market_cap_change_percentage_24h>0;return(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"MARKET OVERVIEW"})}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 font-mono text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-terminal-darkgray",children:"TOTAL MARKET CAP"}),(0,s.jsx)("div",{className:"text-terminal-black font-bold",children:a?x(a.total_market_cap):"---"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-terminal-darkgray",children:"24H CHANGE"}),(0,s.jsx)("div",{className:"font-bold ".concat(h?"text-terminal-green":"text-terminal-red"),children:a?"".concat(h?"+":"").concat(a.market_cap_change_percentage_24h.toFixed(2),"%"):"---"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-terminal-darkgray",children:"TOTAL VOLUME"}),(0,s.jsx)("div",{className:"text-terminal-black font-bold",children:a?x(a.total_volume):"---"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-terminal-darkgray",children:"ACTIVE COINS"}),(0,s.jsx)("div",{className:"text-terminal-black font-bold",children:a?(e=a.active_cryptocurrencies)>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e.toLocaleString():"---"})]})]}),(0,s.jsx)("div",{className:"border-t-2 border-terminal-darkgray pt-2",children:(0,s.jsxs)("div",{className:"text-xs text-terminal-darkgray font-mono",children:["LAST UPDATED: ",new Date().toLocaleTimeString("en-US",{hour12:!1})]})})]})]})}},7435:(e,t,a)=>{"use strict";a.d(t,{$F:()=>n,P0:()=>i});var s=a(5155);function r(e){let{className:t="",rows:a=1,animated:r=!0}=e;return(0,s.jsx)("div",{className:"space-y-2 ".concat(t),children:Array.from({length:a}).map((e,t)=>(0,s.jsx)("div",{className:"\n            bg-terminal-darkgray h-4 border-2 border-terminal-darkgray shadow-sunken\n            ".concat(r?"animate-pulse":"","\n          ")},t))})}function i(){return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"bg-terminal-gray border-2 border-terminal-darkgray shadow-raised p-3",children:(0,s.jsx)(r,{className:"w-1/3"})}),Array.from({length:5}).map((e,t)=>(0,s.jsx)("div",{className:"bg-terminal-gray border-2 border-terminal-darkgray shadow-raised p-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-center space-x-4",children:[(0,s.jsx)(r,{className:"w-1/4"}),(0,s.jsx)(r,{className:"w-1/6"}),(0,s.jsx)(r,{className:"w-1/6"}),(0,s.jsx)(r,{className:"w-1/6"}),(0,s.jsx)(r,{className:"w-1/6"})]})},t))]})}function n(){return(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>(0,s.jsx)("div",{className:"bg-terminal-gray border-2 border-terminal-darkgray shadow-raised p-4",children:(0,s.jsx)(r,{rows:2,className:"space-y-2"})},t))})}},3528:(e,t,a)=>{"use strict";a.d(t,{ToastProvider:()=>c,d:()=>l});var s=a(5155),r=a(2115),i=a(3312);let n=(0,r.createContext)(void 0);function l(){let e=(0,r.useContext)(n);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function c(e){let{children:t}=e,[a,l]=(0,r.useState)([]),c=(0,r.useCallback)(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,s=Math.random().toString(36).substring(2,9),r={id:s,message:e,type:t,duration:a};l(e=>[...e,r]),a>0&&setTimeout(()=>{l(e=>e.filter(e=>e.id!==s))},a)},[]),d=(0,r.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[]),o=e=>{switch(e){case"success":return"bg-terminal-green text-terminal-black border-terminal-green";case"error":return"bg-terminal-red text-terminal-white border-terminal-red";case"warning":return"bg-yellow-500 text-terminal-black border-yellow-500";default:return"bg-terminal-gray text-terminal-black border-terminal-gray"}},m=e=>{switch(e){case"success":return"✓";case"error":return"✗";case"warning":return"⚠";default:return"ℹ"}};return(0,s.jsxs)(n.Provider,{value:{showToast:c},children:[t,(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:a.map(e=>(0,s.jsx)("div",{className:"\n              ".concat(o(e.type),"\n              border-2 p-4 shadow-raised font-mono text-sm\n              animate-in slide-in-from-right duration-300\n            "),children:(0,s.jsxs)("div",{className:"flex items-start justify-between space-x-3",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"font-bold text-lg leading-none",children:m(e.type)}),(0,s.jsx)("div",{className:"flex-1 leading-tight",children:e.message})]}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>d(e.id),className:"h-auto p-1 text-xs leading-none hover:bg-black/20",children:"✕"})]})},e.id))})]})}},6543:(e,t,a)=>{"use strict";a.d(t,{UsageDisplay:()=>x});var s=a(5155),r=a(2115),i=a(9749),n=a(3312),l=a(80);class c{static getTodayKey(){return new Date().toISOString().split("T")[0]}static getStorageData(){try{let e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):{}}catch(e){return{}}}static saveStorageData(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(e){console.warn("Failed to save usage data:",e)}}static getTodayUsage(){let e=l.u.getCurrentUser();if(!e)return{userId:"anonymous",date:this.getTodayKey(),predictions:0,apiCalls:0,portfolioItems:0};let t=this.getStorageData()[e.id]||{},a=this.getTodayKey();return t[a]||{userId:e.id,date:a,predictions:0,apiCalls:0,portfolioItems:0}}static incrementUsage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=l.u.getCurrentUser();if(!a)return this.getTodayUsage();let s=this.getStorageData(),r=this.getTodayKey();s[a.id]||(s[a.id]={});let i=this.getTodayUsage();return i[e]+=t,s[a.id][r]=i,this.saveStorageData(s),i}static canPerformAction(e){let t=l.u.getCurrentUser(),a=l.u.getUsageLimits(),s=this.getTodayUsage();if(t&&"FREE"!==t.tier)return{allowed:!0};switch(e){case"prediction":if(-1===a.predictionsPerDay)return{allowed:!0};if(s.predictions>=a.predictionsPerDay)return{allowed:!1,reason:"Daily prediction limit reached (".concat(a.predictionsPerDay,"/day)"),upgrade:!0};return{allowed:!0};case"apiCall":if(-1===a.apiCalls)return{allowed:!0};if(s.apiCalls>=a.apiCalls)return{allowed:!1,reason:"Daily API call limit reached (".concat(a.apiCalls,"/day)"),upgrade:!0};return{allowed:!0};case"addPortfolioItem":if(-1===a.portfolioItems)return{allowed:!0};if(s.portfolioItems>=a.portfolioItems)return{allowed:!1,reason:"Portfolio item limit reached (".concat(a.portfolioItems," items)"),upgrade:!0};return{allowed:!0};default:return{allowed:!1,reason:"Unknown action"}}}static getRemainingUsage(){let e=l.u.getUsageLimits(),t=this.getTodayUsage();return{predictions:-1===e.predictionsPerDay?"Unlimited":Math.max(0,e.predictionsPerDay-t.predictions),apiCalls:-1===e.apiCalls?"Unlimited":Math.max(0,e.apiCalls-t.apiCalls),portfolioItems:-1===e.portfolioItems?"Unlimited":Math.max(0,e.portfolioItems-t.portfolioItems)}}static getUsagePercentages(){let e=l.u.getUsageLimits(),t=this.getTodayUsage(),a=(e,t)=>-1===t?0:Math.min(100,e/t*100);return{predictions:a(t.predictions,e.predictionsPerDay),apiCalls:a(t.apiCalls,e.apiCalls),portfolioItems:a(t.portfolioItems,e.portfolioItems)}}static resetUsage(){let e=l.u.getCurrentUser();if(!e)return;let t=this.getStorageData(),a=this.getTodayKey();t[e.id]&&(t[e.id][a]={userId:e.id,date:a,predictions:0,apiCalls:0,portfolioItems:0},this.saveStorageData(t))}static getUsageHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=l.u.getCurrentUser();if(!t)return[];let a=this.getStorageData()[t.id]||{},s=[],r=new Date;for(let i=0;i<e;i++){let e=new Date(r);e.setDate(e.getDate()-i);let n=e.toISOString().split("T")[0];s.push(a[n]||{userId:t.id,date:n,predictions:0,apiCalls:0,portfolioItems:0})}return s.reverse()}static cleanupOldData(){let e=this.getStorageData(),t=new Date;t.setDate(t.getDate()-30);let a=t.toISOString().split("T")[0],s=!1;Object.keys(e).forEach(t=>{let r=e[t];Object.keys(r).forEach(e=>{e<a&&(delete r[e],s=!0)})}),s&&this.saveStorageData(e)}}c.STORAGE_KEY="cryptovision_usage";var d=a(6060),o=a(8173),m=a.n(o);function x(){let{user:e,isPremium:t}=(0,d.A)(),[a,l]=(0,r.useState)(c.getTodayUsage()),[o,x]=(0,r.useState)(c.getRemainingUsage()),[h,g]=(0,r.useState)(c.getUsagePercentages());if((0,r.useEffect)(()=>{let e=()=>{l(c.getTodayUsage()),x(c.getRemainingUsage()),g(c.getUsagePercentages())};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[e]),!e)return(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"USAGE TRACKING"})}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"text-terminal-darkgray mb-2",children:"LOGIN TO TRACK USAGE"}),(0,s.jsx)("div",{className:"text-xs",children:"Sign in to see your API usage and limits"})]})})]});let p=e=>e>=90?"bg-terminal-red":e>=70?"bg-yellow-500":"bg-terminal-green",u=e=>"number"==typeof e?e.toString():e;return(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(i.ZB,{children:"DAILY USAGE LIMITS"}),!t&&(0,s.jsx)(m(),{href:"/pricing",children:(0,s.jsx)(n.$,{variant:"outline",size:"sm",className:"font-mono text-xs",children:"UPGRADE"})})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"border-2 border-terminal-darkgray p-3 shadow-sunken bg-terminal-black",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-mono text-terminal-white",children:"► PLAN:"}),(0,s.jsxs)("span",{className:"font-bold font-mono ".concat(t?"text-terminal-green":"text-terminal-red"),children:["[",e.tier,"]"]})]}),!t&&(0,s.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"► UPGRADE TO PRO FOR UNLIMITED USAGE"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono mb-1",children:[(0,s.jsx)("span",{children:"AI PREDICTIONS"}),(0,s.jsxs)("span",{children:[a.predictions," / ","Unlimited"===u(o.predictions)?"∞":"".concat(a.predictions+o.predictions)]})]}),"number"==typeof o.predictions&&(0,s.jsx)("div",{className:"w-full bg-terminal-black border-2 border-terminal-darkgray h-4 shadow-sunken",children:(0,s.jsx)("div",{className:"h-full ".concat(p(h.predictions)," shadow-raised"),style:{width:"".concat(Math.min(100,h.predictions),"%")}})}),(0,s.jsxs)("div",{className:"text-xs text-terminal-darkgray mt-1",children:["Remaining: ",u(o.predictions)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono mb-1",children:[(0,s.jsx)("span",{children:"API CALLS"}),(0,s.jsxs)("span",{children:[a.apiCalls," / ","Unlimited"===u(o.apiCalls)?"∞":"".concat(a.apiCalls+o.apiCalls)]})]}),"number"==typeof o.apiCalls&&(0,s.jsx)("div",{className:"w-full bg-terminal-black border-2 border-terminal-darkgray h-4 shadow-sunken",children:(0,s.jsx)("div",{className:"h-full ".concat(p(h.apiCalls)," shadow-raised"),style:{width:"".concat(Math.min(100,h.apiCalls),"%")}})}),(0,s.jsxs)("div",{className:"text-xs text-terminal-darkgray mt-1",children:["Remaining: ",u(o.apiCalls)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono mb-1",children:[(0,s.jsx)("span",{children:"PORTFOLIO ITEMS"}),(0,s.jsxs)("span",{children:[a.portfolioItems," / ","Unlimited"===u(o.portfolioItems)?"∞":"".concat(a.portfolioItems+o.portfolioItems)]})]}),"number"==typeof o.portfolioItems&&(0,s.jsx)("div",{className:"w-full bg-terminal-black border-2 border-terminal-darkgray h-4 shadow-sunken",children:(0,s.jsx)("div",{className:"h-full ".concat(p(h.portfolioItems)," shadow-raised"),style:{width:"".concat(Math.min(100,h.portfolioItems),"%")}})}),(0,s.jsxs)("div",{className:"text-xs text-terminal-darkgray mt-1",children:["Remaining: ",u(o.portfolioItems)]})]})]}),(0,s.jsx)("div",{className:"border-t-2 border-terminal-darkgray pt-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"text-xs text-terminal-darkgray",children:"Usage resets daily at midnight UTC"}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{c.resetUsage(),l(c.getTodayUsage()),x(c.getRemainingUsage()),g(c.getUsagePercentages())},className:"font-mono text-xs",children:"RESET (DEMO)"})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[40,28,527,556,776,441,517,358],()=>t(8639)),_N_E=e.O()}]);